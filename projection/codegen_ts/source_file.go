package codegen_ts

import (
	"github.com/tempo-lang/tempo/projection"
)

func (gen *codegen) GenSourceFile(s *projection.SourceFile) {
	gen.Writeln("// Code generated by tempo, DO NOT EDIT.\n")

	gen.Writeln("import { Env } from './runtime.ts';\n")

	if !gen.opts.DisableTypes {
		for _, inf := range s.Interfaces {
			gen.GenChoreographyInterface(inf)
		}

		for _, st := range s.Structs {
			gen.GenChoreographyStruct(st)
		}
	}

	for _, chor := range s.Chors {
		gen.GenChoreography(chor)
	}
}
